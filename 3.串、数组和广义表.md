# 串

## 串的基本概念

- 串（string）是由零个或多个字符组成的有限序列。

- S是串名；用双引号括起来的字符序列是**串值**；串中包含的字符个数称为该串的**长度**。`零个字符的串称为空串，其长度为零，它不包含任何字符`。

- <mark>串中任意个连续字符组成的子序列称为该串的子串</mark>。包含子串的串相应地称为**主串**。

> 当且仅当两个串的值相等时称两个串是相等的，
> 由一个或多个空格组成的串称为空格串，其长度为串中空格字符的个数。

## 串的基本运算

> (1)求串长：int strlen(char * s)  // 求串s的长度
> 
> (2)串复制：char * strcpy(char * to, char * from)  // 将from串复制到to中
>
> (3)串联接：char * strcat(char *to. char * from)  // 将from串联接到to串末尾
>
> (4)串比较：int strcmp(char * s1, char * s2)  // 比较s1和s2的大小，> 当s1<s2、s1>s2和s1=s2时，分别返回小于0、大于0和等于0的值。

## 串的存储结构

### 串的顺序存储结构

- 结束把串所包含的字符序列依次存入连续的存储单元中去，可用数组来存储串。串的顺序存储结构，C语言中以字符 '\0' 表示字符串的结束。

```cpp
#define MAXLEN 255
typedef struct
{
    char ch[MAXLEN];  // MAXLEN为串的最大长度，ch是存储字符串的一维数组
    int len;          // len为已存储字符的数量
} SeqString;
```

### 串的链式存储结构

- 串的链式存储结构称为**链串**。链串与单链表的差异仅在于其结点数据域为单个字符。

```cpp
typedef struct node
{
    char data;
    struct node * next;
} LinkStrNode;  // 结点类型
```

## 子串的定位运算

- 子串定位运算类似于串的基本运算中的字符定位运算，只不过是找子串而表示找字符在主串中首次出现的位置。子串定位运算又称串的**模式匹配**或**串匹配**。

- 在串匹配中，一般将主串称为目标串，子串称为模式串。假设 T 为目标串，P 为模式串。

```cpp
int StrMatch(SeqString T, SeqString P)
{
    // 找模式串P在目标串T中首次出现的位置，成功返回第1有效位移，否则返回-1
    int i, j, k;
    int m = P.length;                     // 模式串长度
    int n = T.length;                     // 目标串长度
    for(i = 0; i < n-m; i++)              // 0 <= i <= n-m 是合法位移
    {
        j = 0;
        k = i;
        while(j < m && T.ch[k] == P.ch[j])  // 用while循环判定i是否为有效位移
        {
            k++;
            j++;
        }
        if(j == m)                        // 即T[i..i+m-1] = P[0..m-1]
            return i;                     // i为有效位移，否则查找下一个位移
    }
    return -1;                            // 找不到有效位移，匹配失败
}
```

# 数组

## 二维数组的存储及求址方法

### 二维数组的存储结构

- 二维数组 $A_{mn}$ 可视为由 m 个行向量组成的向量，或由 n 个列向量组成的向量。二维数组中的每个元素 $a_{ij}$ 既属于第 i 行的行向量，又属于第 j 列的列向量。
1. 行优先存储：数组元素按行向量排列，第 i+1 个行向量紧接在第 i 个行向量后面，二维数组 $A_{mn}$ 的按行优先存储的线性序列为：
$$
a_{11},a_{12},...,a_{1n},a_{21},a_{22},...,a_{2n},...,a_{m1},a_{m2},...,a_{mn}
$$
2. 列优先存储：数组元素按列向量排列，第 i+1 个列向量紧接在第 i 个列向量后面，二维数组 $A_{mn}$ 的按列优先存储的线性序列为：
$$
a_{11},a_{21},...,a_{m1},a_{12},a_{22},...,a_{m2},...,a_{1n},a_{2n},...,a_{mn}
$$

### 二维数组的求址方法

- 设二维数组共有 m 行 n 列
1. $LOC(a_{11})$ 是开始结点的存放位置
2. d wei每个元素所占的存储单元数

- 按行优先求址公式
$$
LOC(a_{ij})=LOC(a_{11})+[(i-1)×n+j-1]×d
$$
- 按列优先求址公式
$$
LOC(a_{ij})=LOC(a_{11})+[(j-1)×m+i-1]×d
$$

> 求址时需注意已知地址的数组元素的下标

## 矩阵的压缩存储

- 多个值相同的元素只分配一个存储空间、零元素不存储的存储策略，称为矩阵的**压缩存储**。

### 特殊矩阵

- 指非零元素或零元素的分布有一定规律的矩阵。常见的有对称矩阵和三角矩阵等。

#### 对称矩阵

- 元素满足：$a_{ij}=a_{ji}(0\le i,j\le n-1)$ 则称 A 为对称矩阵。
- 下三角矩阵中，元素总数为 $\frac{n(n+1)}{2}$
- 按照行优先存储 $a_{ij}$ 和数组下标之间的对应关系：
$$
k=\frac{i×(i+1)}{2}+j, \ i\ge j
$$

#### 三角矩阵

- 以主对角线划分，三角矩阵有上三角矩阵和下三角矩阵两种
1. 上三角矩阵：它的下三角（不包括主对角线）中的元素均为常数 C。
2. 下三角矩阵：与上三角相反。

> 重复元素 C 可共享一个存储空间，其余的元素正好有 $\frac{n×(n+1)}{2}$ 个

- 上三角中 $a_{ij}$ 和下标之间的关系
$$
k=\frac{i×(2n-i+1)}{2}+j-i, \ i\le j
$$
$$
k=\frac{n×(n+1)}{2}, \ i > j
$$

- 下三角中 $a_{ij}$ 和下标之间的关系
$$
k=\frac{i×(i+1)}{2}+j, \ i \ge j
$$
$$
k=\frac{n×(n+1)}{2}, \ i < j
$$

### 稀疏矩阵

#### 稀疏矩阵定义

- 设矩阵 $A_{mn}$ 中有 s 个非零元素，若 s 远远小于矩阵元素的总数（即 $s<<m×n$），则称 A 为稀疏矩阵。

#### 三元组表

- 采用稀疏矩阵的压缩存储方式，可只存储非零元素。其中每一个非零元素所在的行号、列号和值组成一个三元组 $（i，j，a_{ij}）$，并由此三元组唯一确定。将表示稀疏矩阵的非零元素的三元组按行优先（或列优先）的顺序排列（跳过零元素），并依次存放在向量中。

# 广义表

## 广义表的定义

- 广义表（Lists，又称列表）是线性表的推广，也可以说是线性和非线性之间的一种过渡结构。即

- 广义表是 $n(n\ge 0)$个元素 $a_1,a_2,...,a_i,...,a_n$ 组成的有限序列。广义表通常记作：$Ls=(a_1,a_2,...,a_i,...,a_n)$，其值 Ls 是广义表的名字，n 为它的长度。$a_i$ 可以是单个元素，也可以是一个广义表，若 $a_i$ 是单个元素，则称它为 Ls 的原子；若 $a_i$ 是广义表，则称它为 Ls 的子表。

1. 广义表通常用圆括号括起来，用逗号分隔其中的元素。
2. 为了区分原子和广义表，书写时用大写字母表示广义表，用小写字母表示原子。
3. 若广义表 Ls 非空 $(n\ge 1)$，则 Ls 的**表头**，其余元素组成的表 $(a_2,...,a_i,...,a_n)$ 称为 Ls 的**表尾**。

## 广义表的表示

### 广义表常用表示

1. E = ( )  E 是一个空表，其长度为0。
2. L = (a, b)  L 是长度为2的广义表，它的两个元素都是原子，因此它是一个线性表。
3. A = (x, L) = (x, (a, b))  A 是一个长度为2的广义表，第一个元素是原子 x，第二个元素是子表 L。
4. B = (A, y) = ((x, (a, b)), y)  B 是长度为2的广义表，第一个元素是子表 A，第二个元素是原子 y。
5. C = (A, B) = ((x, (a, b)), ((x, (a,b)), y))  C 的长度为2，两个元素都是子表。
6. D = (a, D) = (a,(a,(a,(...))))  这是一个递归的表，其长度为2，第一个元素是原子，第二个元素是 D 本身，展开后它是一个无限的广义表。

- 广义表是多层次的结构
- 广义表也可以是其本身的一个子表

### 广义表的深度

- 广义表的“深度”是指表展开后所含括号的层数。

## 广义表的运算

- 广义表的两个基本运算：取表头 GetHead(Ls) 和取表尾 GetTail(Ls)。

- 取表头 GetHead(Ls)：取出的表头为非空广义表的第一个元素，它可以是一个单原子，也可以是一个子表。

- 取表尾 GetTail(Ls)：取出的表尾为除去表头之外，由其余元素构成的表。即表尾一定是一个广义表。

- 广义表 () 和 (()) 不同，前者为空表，长度 n=0；后者长度 n=1，可分解得到其表头、表尾均为空表 ()。

- 根据表头、表尾的定义可知：任何一个非空广义表的表头是表中第一个元素，它可以是原子，也可以是子表，而其表尾必定是子表（除了第一个元素以外其他元素的集合）。

# 总结

1. 串是零个或多个字符组成的有限序列。串中所包含的字符个数称为该串的长度。空串是长度为零的串，它不包含任何字符。空格串是由一个或多个空格组成的串。
2. 串中任意个连续字符组成的子序列称为该串的子串。包含子串的串称为主串。
3. 将二维数组转换为线性序列有按行转换和按列转换两种。对于对称矩阵、三角矩阵等特殊矩阵，在存储时可压缩存储，即为多个值相同的元素只配一个存储空间，对零元素不分配存储空间。
4. 广义表是线性表的推广形式，表中的元素可以是称为原子的单个元素，也可以是一个子表，所以线性表可以看成广义表的特例。